## 第02章

1. 通常应用程序由语言运行时、库和源代码组成。应用程序对外部的依赖需要保持统一。
2. 容器镜像可以将一个程序及其依赖项打包成文件系统中的一个文件。就像是一个二进制软件包，其中封装了在操作系统容器内部运行程序所需的所有文件。
3. Docker镜像格式由一系列文件系统层组测，每一层都在文件系统上一层的基础之上进行变更。是一个典型的层叠文件系统。
4. 容器镜像常常与容器配置文件结合在一起，配置文件提供了有关如何设置容器环境以及执行应用程序入口点的说明。
5. 容器主要分两大类：
   1. 系统容器：模仿虚拟机，通常会运行完整的引导过程。
   2. 应用程序容器：一般应用程序容器会运行一个程序。
6. Dockerfile可用于自动化创建Docker容器的过程。提供了如何构建镜像容器的说明，而.dockerignore则定义了将文件复制到镜像时应该忽略的文件。每个Dockerfile都是建立在其他容器镜像之上。
7. Docker中，系统后续某层删除的文件实际上仍然存在于镜像中，只不过访问不到。
8. 不要包含密码的镜像，机密数据与镜像分离。
9. 将编译作为镜像构建的一部分会导致镜像中包含许多不必要的开发工具。（解决方案：多阶段构建）
10. Docker中，--memory限制内存使用，--memory-swap限制交换空间，--cpu-shares限制CPU的使用。
11. docker rmi删除镜像，除非你明确删除镜像，否则即便构建一个同名的新镜像，原来的镜像也会永久存在于系统中。构建新镜像只是将标签转移到新镜像上，并不会删除或替换旧镜像。
12. docker images查看计算机上当前的镜像。
13. Docker提供了一个名为docker system prune的工具，可用于常规清理，将删除所有停止的容器、所有未标记的镜像以及构建过程中缓存下来的所有未使用的镜像层。