## 第01章 简介

1. 在早期的计算机系统中不包含操作系统，它们从头到尾只执行一个程序，并且这个程序能访问计算机中所有的资源。在这种裸机环境中，不仅很难编写和运行程序，而去每次只能运行一个程序，这对于昂贵并且稀有的计算资源来说也是一种浪费。
2. 操作系统的出现使得计算机每次能运行多个程序，并且不同的程序都在单独的进程中运行：操作系统为各个独立的进程分配各种资源，包括内存，文件句柄以及安全证书等。
3. 在计算机中加入操作系统来实现多个程序等同时执行原因：
   1. 资源利用率。在某些情况下，程序必须等待外部操作执行完成，例如输入操作或输出操作等，而在等待时程序无法执行其他任何工作。因此，如果在等待的同时可以运行另外一个程序，那么无疑将提高资源的利用率。
   2. 公平性。不同的用户和程序对于计算机上的资源有着同等的使用权。一种高效的运行方式时通过粗力度的时间分片使这些用户和程序能够共享计算机资源，而不是由一个程序从头运行到尾，然后再启动下一个程序（每一个程序运行一段时间）。
   3. 便利性。通常来说，在计算多个任务时，应该编写多个程序，每个程序执行一个任务并在必要时相互通信，这比只编写一个程序来计算所有任务更容易实现。
4. 在早期的分时系统中，每个进程相当于一台虚拟的冯·诺伊曼计算，它拥有存储指令和数据的内存空间，根据计算机语言的语义以串行方式执行指令，并通过一组I/O指令与外部设备通信。对每条被执行的指令，都有相应的“下一条指令”，程序中的控制流是按照指令集的规则来确定的。 
5. 线程允许在同一个进程中同时存在多个程序控制流。线程会共享进程范围内的资源，例如内存句柄和文件句柄，但每个线程都有各自的程序计数器、栈以及局部变量等。线程还提供了一种直观的分解模式来充分利用多处理器系统中的硬件并行性，而在同一个程序中的多个线程也可以被同时调度到多个CPU上运行。
6. 线程也被称为轻量级进程。在大多数现代操作系统中，都是以线程为基本的调度单位。
7. 无论在单核或多核系统中，多线程都能比单线程更充分利用系统资源。
8. 多线程的每个线程任务模型通常更简单，完成一种任务的时间模型工厂更简单。
9. 在现代的GUI框架中，都采用一个事件分发线程来替代主事件循环。
10. 多线程之间需要确保线程的安全性问题：各线程执行互不影响。在开发并发代码时，一定要注意线程安全性是不可破坏的。安全性不仅对于多线程程序很重要，对于单线程程序也很重要。
11. 线程活跃性问题：当某个操作无法执行下去时，就会发生活跃性问题。
12. 性能问题：线程的上下文切换：线程调度器临时挂起活跃线程并转而执行另一个线程。这种操作将带来极大的开销：保存和恢复执行上下文、丢失局部性，并且CPU时间将花费时间在线程调度上，而不是线程执行上。
13. 即使在程序中没有显示地创建线程，但在框架中仍可能会创建线程，因此在这些线程中调用代码同样必须是线程安全的。
14. 框架通过在框架线程中调用应用程序代码将并发性引入到程序中。在代码将不可避免地访问应用程序状态，因此所有访问这些状态的代码路径都必须是线程安全的。
15. Timer类的作用是使任务在稍后的时刻运行，或者运行一次，或者周期性地运行。
16. 访问的对象本身是线程安全的，从而就能把线程安全性封装在共享对象内部。
17. 远程对象必须注意两个线程安全性问题：正确地协同在多个对象中的共享状态，以及对远程对象本身状态的访问。
